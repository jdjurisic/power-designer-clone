<h1>GoJS / Angular - Components Sample</h1>

<div class="left">
  Palette
  <gojs-palette #myPalette [initPalette]='initPalette' [divClassName]='paletteDivClassName' [nodeDataArray]='paletteNodeData'
    [linkDataArray]='paletteLinkData' [modelData]='paletteModelData' (modelChange)='paletteModelChange($event)' [skipsPaletteUpdate]='skipsPaletteUpdate'></gojs-palette>

    <div>
      <div class="col-sm-6">
        <div class="form-check">
          <label class="radio-inline">
          <input type="radio" value="generalization" name="typeLink"  [(ngModel)]="typeLink" (click)="updateLinkCat()">
          Generalization
      </label>
      </div>

          <div class="form-check">
            <label class="radio-inline">
            <input type="radio" value="association" name="typeLink" [(ngModel)]="typeLink" (click)="updateLinkCat()">
            Association
        </label>
        </div>

        <div class="form-check">
          <label class="radio-inline">
          <input type="radio" value="realization" name="typeLink" [(ngModel)]="typeLink" (click)="updateLinkCat()">
          Realization
      </label>
      </div>

      </div>
    </div>
  </div>



<div class="left">
  Diagram
  <gojs-diagram #myDiagram [initDiagram]='initDiagram' [nodeDataArray]='diagramNodeData' [linkDataArray]='diagramLinkData'
    [divClassName]='diagramDivClassName' [modelData]='diagramModelData' [skipsDiagramUpdate]='skipsDiagramUpdate'
    (modelChange)='diagramModelChange($event)'>
  </gojs-diagram>
</div>

<!-- <div class="left">
  Overview
  <gojs-overview #myOverview [initOverview]='initOverview' [divClassName]='oDivClassName' [observedDiagram]='observedDiagram'></gojs-overview>
</div> -->


<div class="left">
  <app-classinspector [selectedNode]='selectedNode' (onFormChange)='handleInspectorChange($event)'></app-classinspector>
</div>


<div class="clear left box">
  <h3>Links in app data</h3>
  <ul>
    <li *ngFor="let ld of diagramLinkData">
      Link Key: {{ld.key}}, To: {{ld.to}}, From: {{ ld.from }}, Category: {{ ld.category}}
    </li>
  </ul>
</div>

<div class="left box">
  <h3>Nodes in app data</h3>
  <ul>
    <li *ngFor="let nd of diagramNodeData">
      Node Key: {{nd.key}}, Text: {{nd.text}}, Color: {{nd.color}}
    </li>
  </ul>
</div>


<!-- <div class="save-failed" *ngIf='this.isError'>
  <p class="save-failed-text">Error while saving model: Conflict.</p>
</div> -->
<div class="save-failed" *ngIf='this.isError'>
  <p class="save-failed-text">{{errorMessage}}</p>
</div>

<button (click)="save()">Save model</button>
<button (click)="load()">Load model</button>
<button (click)="generate()">Model 2 Code</button>